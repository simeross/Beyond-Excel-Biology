<!DOCTYPE html>
<html lang="en">
{% include head.html %}
<body>
    <div class="container">
        {% include header.html %}

        <div class="content-wrapper">
            {% if page.show_blog_nav != false %}
            <nav class="blog-navigator">
                <h3>Posts</h3>
                {% assign posts_by_year = site.posts | group_by_exp: "post", "post.date | date: '%Y'" | reverse %}
                {% for year in posts_by_year %}
                <div class="blog-nav-year">
                    <h4>{{ year.name }}</h4>
                    <ul class="blog-nav-posts">
                        {% assign year_posts = year.items %}
                        {% for post in year_posts %}
                        <li>
                            <a href="{{ post.url | relative_url }}"{% if post.url == page.url %} class="current-post"{% endif %}>
                                {{ post.title }}
                            </a>
                        </li>
                        {% endfor %}
                    </ul>
                </div>
                {% endfor %}
            </nav>
            {% endif %}

            <main class="main-content">
                <article class="blog-post">
                    <header class="post-header">
                        <h1>{{ page.title }}</h1>
                        <div class="post-meta">
                            <time datetime="{{ page.date | date: '%Y-%m-%d' }}">{{ page.date | date: "%Y-%m-%d" }}</time>
                            {% if page.tags %}
                            <span class="tags">
                                {% for tag in page.tags %}
                                <a href="{{ site.baseurl }}/tags/{{ tag | slugify }}.html" class="tag">#{{ tag }}</a>
                                {% endfor %}
                            </span>
                            {% endif %}
                        </div>
                    </header>
                    <div class="post-content">
                        {{ content }}
                    </div>
                </article>
            </main>
        </div>

        {% include footer.html %}
    </div>

    <script>
        function toggleTheme() {
            const body = document.body;
            const themeIcon = document.getElementById('theme-icon');
            
            if (body.getAttribute('data-theme') === 'light') {
                body.removeAttribute('data-theme');
                themeIcon.textContent = 'ðŸŒ™';
                localStorage.setItem('theme', 'dark');
            } else {
                body.setAttribute('data-theme', 'light');
                themeIcon.textContent = 'â˜€';
                localStorage.setItem('theme', 'light');
            }
        }
        
        // Apply saved theme on page load
        document.addEventListener('DOMContentLoaded', function() {
            const savedTheme = localStorage.getItem('theme');
            const themeIcon = document.getElementById('theme-icon');
            
            if (savedTheme === 'light') {
                document.body.setAttribute('data-theme', 'light');
                themeIcon.textContent = 'â˜€';
            } else {
                themeIcon.textContent = 'ðŸŒ™';
            }
            
            // Make checkboxes interactive by removing disabled attribute
            document.querySelectorAll('input[type="checkbox"][disabled]').forEach(function(checkbox) {
                checkbox.removeAttribute('disabled');
            });
        });
    </script>
</body>
</html>